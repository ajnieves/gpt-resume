{"ast":null,"code":"var _jsxFileName = \"C:\\\\resume-gpt\\\\gpt-resume\\\\client\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport './normal.css';\nimport './App.css';\nimport { useState, useEffect } from 'react';\nimport SideMenu from './SideMenu';\nimport ChatBox from './ChatBox';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  useEffect(() => {\n    getEngines();\n  }, []);\n  const [chatInput, setChatInput] = useState(\"\");\n  const [models, setModels] = useState([]);\n  const [temperature, setTemperature] = useState(0.5);\n  const [currentModel, setCurrentModel] = useState(\"text-davinci-003\");\n  const [chatLog, setChatLog] = useState([{\n    user: \"ResumeGPT Bot\",\n    message: \"Please fill in the prompt within the sidebar to generate your resume bullet points.\"\n  }]);\n\n  // clear chats\n  function clearChat() {\n    setChatLog([]);\n  }\n  function getEngines() {\n    fetch(\"http://localhost:3080/models\").then(res => res.json()).then(data => {\n      console.log(data.models.data);\n\n      // set models in order alpahbetically\n      data.models.data.sort((a, b) => {\n        if (a.id < b.id) {\n          return -1;\n        }\n        if (a.id > b.id) {\n          return 1;\n        }\n        return 0;\n      });\n      setModels(data.models.data);\n    });\n  }\n  async function handleSubmit(e) {\n    e.preventDefault();\n    let chatLogNew = [...chatLog, {\n      user: \"me\",\n      message: `${chatInput}`\n    }];\n    setChatInput(\"\");\n    setChatLog(chatLogNew);\n\n    // fetch response to the api combining the chat log array of messages and seinding it as a message to localhost:3000 as a post\n    const messages = chatLogNew.map(message => message.message).join(\"\\n\");\n    const response = await fetch(\"http://localhost:3080/\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        message: messages,\n        currentModel\n      })\n    });\n    const data = await response.json();\n    setChatLog([...chatLogNew, {\n      user: \"gpt\",\n      message: `${data.message}`\n    }]);\n    var scrollToTheBottomChatLog = document.getElementsByClassName(\"chat-log\")[0];\n    scrollToTheBottomChatLog.scrollTop = scrollToTheBottomChatLog.scrollHeight;\n  }\n  function handleTemp(temp) {\n    if (temp > 1) {\n      setTemperature(1);\n    } else if (temp < 0) {\n      setTemperature(0);\n    } else {\n      setTemperature(temp);\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(SideMenu, {\n      chatInput: chatInput,\n      setChatInput: setChatInput,\n      handleSubmit: handleSubmit,\n      clearChat: clearChat\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ChatBox, {\n      chatInput: chatInput,\n      chatLog: chatLog,\n      setChatInput: setChatInput,\n      handleSubmit: handleSubmit\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 84,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"goUjzH9GSl4AZoUB22ssOUYq9oU=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useState","useEffect","SideMenu","ChatBox","App","getEngines","chatInput","setChatInput","models","setModels","temperature","setTemperature","currentModel","setCurrentModel","chatLog","setChatLog","user","message","clearChat","fetch","then","res","json","data","console","log","sort","a","b","id","handleSubmit","e","preventDefault","chatLogNew","messages","map","join","response","method","headers","body","JSON","stringify","scrollToTheBottomChatLog","document","getElementsByClassName","scrollTop","scrollHeight","handleTemp","temp"],"sources":["C:/resume-gpt/gpt-resume/client/src/App.js"],"sourcesContent":["import './normal.css';\nimport './App.css';\nimport { useState, useEffect } from 'react';\nimport SideMenu from './SideMenu'\nimport ChatBox from './ChatBox'\n\nfunction App() {\n\n  useEffect(() => {\n    getEngines();\n  }, [])\n\n  const [chatInput, setChatInput] = useState(\"\");\n  const [models, setModels] = useState([]);\n  const [temperature, setTemperature] = useState(0.5);\n  const [currentModel, setCurrentModel] = useState(\"text-davinci-003\");\n  const [chatLog, setChatLog] = useState([{\n    user: \"ResumeGPT Bot\",\n    message: \"Please fill in the prompt within the sidebar to generate your resume bullet points.\"\n  }]);\n\n  // clear chats\n  function clearChat(){\n    setChatLog([]);\n  }\n\n  function getEngines(){\n    fetch(\"http://localhost:3080/models\")\n    .then(res => res.json())\n    .then(data => {\n      console.log(data.models.data)\n      \n      // set models in order alpahbetically\n      data.models.data.sort((a, b) => {\n        if(a.id < b.id) { return -1; }\n        if(a.id > b.id) { return 1; }\n        return 0;\n      })\n      setModels(data.models.data)\n    })\n  }\n  \n  async function handleSubmit(e){\n    e.preventDefault();\n\n    let chatLogNew = [...chatLog, { user: \"me\", message: `${chatInput}`} ]\n    setChatInput(\"\");\n    setChatLog(chatLogNew)\n    \n\n  \n    // fetch response to the api combining the chat log array of messages and seinding it as a message to localhost:3000 as a post\n    const messages = chatLogNew.map((message) => message.message).join(\"\\n\")\n    \n    const response = await fetch(\"http://localhost:3080/\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        message: messages,\n        currentModel,\n       })\n\n      });\n    const data = await response.json();\n    setChatLog([...chatLogNew, { user: \"gpt\", message: `${data.message}`} ])\n    var scrollToTheBottomChatLog = document.getElementsByClassName(\"chat-log\")[0];\n    scrollToTheBottomChatLog.scrollTop = scrollToTheBottomChatLog.scrollHeight;\n  }\n\n  function handleTemp(temp) {\n    if(temp > 1){\n      setTemperature(1)\n    } else if (temp < 0){\n      setTemperature(0)\n    } else {\n      setTemperature(temp)\n    }\n\n  }\n\n  return (\n    <div className=\"App\">\n      <SideMenu\n        chatInput={chatInput}\n        setChatInput={setChatInput} \n        handleSubmit={handleSubmit}\n        clearChat={clearChat}\n      />\n      <ChatBox \n        chatInput={chatInput}\n        chatLog={chatLog} \n        setChatInput={setChatInput} \n        handleSubmit={handleSubmit} />\n    </div>\n  );\n}\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}