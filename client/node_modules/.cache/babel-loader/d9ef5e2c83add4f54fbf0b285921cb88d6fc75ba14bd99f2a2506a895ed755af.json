{"ast":null,"code":"import _regeneratorRuntime from\"D:/resume-gpt/gpt-resume/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _toConsumableArray from\"D:/resume-gpt/gpt-resume/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _asyncToGenerator from\"D:/resume-gpt/gpt-resume/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/resume-gpt/gpt-resume/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import'./normal.css';import'./App.css';import{useState,useEffect}from'react';import SideMenu from'./SideMenu';import ChatBox from'./ChatBox';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){useEffect(function(){getEngines();},[]);var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),chatInput=_useState2[0],setChatInput=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),chatInput1=_useState4[0],setChatInput1=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),models=_useState6[0],setModels=_useState6[1];var _useState7=useState(0.5),_useState8=_slicedToArray(_useState7,2),temperature=_useState8[0],setTemperature=_useState8[1];var _useState9=useState(\"text-davinci-003\"),_useState10=_slicedToArray(_useState9,2),currentModel=_useState10[0],setCurrentModel=_useState10[1];var _useState11=useState([{}]),_useState12=_slicedToArray(_useState11,2),chatLog=_useState12[0],setChatLog=_useState12[1];// clear chats\nfunction clearChat(){setChatLog([]);}function getEngines(){fetch(\"http://localhost:3080/models\").then(function(res){return res.json();}).then(function(data){console.log(data.models.data);setModels(data.models.data);});}function handleSubmit(_x){return _handleSubmit.apply(this,arguments);}function _handleSubmit(){_handleSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var chatLogNew,messages,response,data,scrollToTheBottomChatLog;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();chatLogNew=[].concat(_toConsumableArray(chatLog),[{user:\"me\",message:\"Generate resume bullet points for the role, \".concat(chatInput,\" with the responsibilities: \").concat(chatInput1)}]);setChatInput(\"\");setChatInput1(\"\");setChatLog(chatLogNew);// fetch response to the api combining the chat log array of messages and seinding it as a message to localhost:3000 as a post\nmessages=chatLogNew.map(function(message){return message.message;}).join(\"\\n\");_context.next=8;return fetch(\"http://localhost:3080/\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({message:messages,currentModel:currentModel})});case 8:response=_context.sent;_context.next=11;return response.json();case 11:data=_context.sent;setChatLog([].concat(_toConsumableArray(chatLogNew),[{user:\"gpt\",message:\"\".concat(data.message)}]));scrollToTheBottomChatLog=document.getElementsByClassName(\"chat-log\")[0];scrollToTheBottomChatLog.scrollTop=scrollToTheBottomChatLog.scrollHeight;case 15:case\"end\":return _context.stop();}},_callee);}));return _handleSubmit.apply(this,arguments);}function handleTemp(temp){if(temp>1){setTemperature(1);}else if(temp<0){setTemperature(0);}else{setTemperature(temp);}}return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(SideMenu,{chatInput:chatInput,setChatInput:setChatInput,setChatInput1:setChatInput1,handleSubmit:handleSubmit,clearChat:clearChat}),/*#__PURE__*/_jsx(ChatBox,{chatInput:chatInput,chatLog:chatLog,setChatInput:setChatInput,setChatInput1:setChatInput1,handleSubmit:handleSubmit})]});}export default App;","map":{"version":3,"names":["useState","useEffect","SideMenu","ChatBox","App","getEngines","chatInput","setChatInput","chatInput1","setChatInput1","models","setModels","temperature","setTemperature","currentModel","setCurrentModel","chatLog","setChatLog","clearChat","fetch","then","res","json","data","console","log","handleSubmit","e","preventDefault","chatLogNew","user","message","messages","map","join","method","headers","body","JSON","stringify","response","scrollToTheBottomChatLog","document","getElementsByClassName","scrollTop","scrollHeight","handleTemp","temp"],"sources":["D:/resume-gpt/gpt-resume/client/src/App.js"],"sourcesContent":["import './normal.css';\nimport './App.css';\nimport { useState, useEffect } from 'react';\nimport SideMenu from './SideMenu'\nimport ChatBox from './ChatBox'\n\nfunction App() {\n\n  useEffect(() => {\n    getEngines();\n  }, [])\n\n  const [chatInput, setChatInput] = useState(\"\");\n  const [chatInput1, setChatInput1] = useState(\"\");\n  const [models, setModels] = useState([]);\n  const [temperature, setTemperature] = useState(0.5);\n  const [currentModel, setCurrentModel] = useState(\"text-davinci-003\");\n  const [chatLog, setChatLog] = useState([{ \n  }]);\n\n  // clear chats\n  function clearChat(){\n    setChatLog([]);\n  }\n\n  function getEngines(){\n    fetch(\"http://localhost:3080/models\")\n    .then(res => res.json())\n    .then(data => {\n      console.log(data.models.data)\n      setModels(data.models.data)\n    })\n  }\n\n  \n  async function handleSubmit(e){\n    e.preventDefault();\n\n    let chatLogNew = [...chatLog, { user: \"me\", message: `Generate resume bullet points for the role, ${chatInput} with the responsibilities: ${chatInput1}`} ]\n    setChatInput(\"\");\n    setChatInput1(\"\");\n    setChatLog(chatLogNew)\n    \n\n  \n    // fetch response to the api combining the chat log array of messages and seinding it as a message to localhost:3000 as a post\n    const messages = chatLogNew.map((message) => message.message).join(\"\\n\")\n    \n    const response = await fetch(\"http://localhost:3080/\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        message: messages,\n        currentModel,\n       })\n\n      });\n    const data = await response.json();\n    setChatLog([...chatLogNew, { user: \"gpt\", message: `${data.message}`} ])\n    var scrollToTheBottomChatLog = document.getElementsByClassName(\"chat-log\")[0];\n    scrollToTheBottomChatLog.scrollTop = scrollToTheBottomChatLog.scrollHeight;\n  }\n\n  function handleTemp(temp) {\n    if(temp > 1){\n      setTemperature(1)\n    } else if (temp < 0){\n      setTemperature(0)\n    } else {\n      setTemperature(temp)\n    }\n\n  }\n\n  return (\n    <div className=\"App\">\n      <SideMenu\n        chatInput={chatInput}\n        setChatInput={setChatInput}\n        setChatInput1={setChatInput1} \n        handleSubmit={handleSubmit}\n        clearChat={clearChat}\n      />\n      <ChatBox \n        chatInput={chatInput}\n        chatLog={chatLog} \n        setChatInput={setChatInput}\n        setChatInput1={setChatInput1} \n        handleSubmit={handleSubmit} />\n    </div>\n  );\n}\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}